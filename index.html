<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>ì‚¬ë‘ì˜ ì˜¨ë„ í…ŒìŠ¤íŠ¸ / Love Temperature Test</title>
<script src="https://cdn.tailwindcss.com"></script>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
<style>
    body { font-family: 'Noto Sans KR', sans-serif; }
    .fade-in { animation: fadeIn 0.4s ease-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .btn-hover:active { transform: scale(0.98); background-color: #f3f4f6; }
    /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¹€ */
    .scrollbar-hide::-webkit-scrollbar { display: none; }
    .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
    /* ë‹¨ì–´ ë‹¨ìœ„ ì¤„ë°”ê¿ˆ ì ìš© */
    * { word-break: keep-all; }
    /* ë°°ê²½ íŒ¨í„´ */
    .bg-pattern {
        background-image: radial-gradient(#e5e7eb 1px, transparent 1px);
        background-size: 20px 20px;
    }
</style>
</head>
<body class="bg-gray-100 min-h-screen flex items-center justify-center p-0 md:p-4 overflow-hidden">

<div id="app" class="w-full h-[100dvh] md:h-[90vh] max-w-lg md:max-w-3xl bg-white md:rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col relative border-0 md:border border-gray-100 transition-all duration-300">

    <!-- Language Toggle Button -->
    <div class="absolute top-5 right-5 z-50">
        <button id="langBtn" onclick="toggleLanguage()" class="bg-white/80 backdrop-blur border border-gray-200 text-gray-500 px-3 py-1.5 rounded-full text-[10px] md:text-xs font-bold hover:bg-gray-50 transition shadow-sm flex items-center gap-1.5">
            ğŸŒ <span id="langBtnText">English</span>
        </button>
    </div>

    <!-- 1. Start Screen -->
    <div id="startScreen" class="flex-1 flex flex-col items-center justify-center p-6 text-center fade-in h-full bg-pattern">
        <div class="flex-1 flex flex-col justify-center items-center w-full max-w-md mx-auto">
            <div class="text-6xl md:text-8xl mb-6 md:mb-8 animate-bounce">ğŸŒ¡ï¸</div>
            <h1 id="startTitle" class="text-3xl md:text-5xl font-black text-gray-900 mb-4 md:mb-6 leading-tight tracking-tight">ì‚¬ë‘ì˜ ì˜¨ë„ í…ŒìŠ¤íŠ¸</h1>
            <p id="startDesc" class="text-gray-500 mb-10 md:mb-12 text-sm md:text-xl leading-relaxed">
                ë‚˜ì˜ ì‚¬ë‘ ì˜¨ë„ëŠ” ëª‡ ë„ì¼ê¹Œìš”?<br>
                ì§§ì€ í…ŒìŠ¤íŠ¸ë¡œ ë‚´ ë§ˆìŒì˜ ì˜¨ë„ë¥¼ í™•ì¸í•˜ê³ <br>
                ë‚˜ì—ê²Œ ë”± ë§ëŠ” ê°•ì—°ì„ ì¶”ì²œë°›ì•„ë³´ì„¸ìš”.
            </p>
            <button id="startBtn" onclick="startQuiz()" class="bg-gray-900 text-white px-10 py-4 rounded-2xl text-lg md:text-2xl font-bold w-full shadow-xl hover:bg-gray-800 transition active:scale-95 transform hover:-translate-y-1">
                í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°
            </button>
        </div>
    </div>

    <!-- 2. Quiz Screen -->
    <div id="quizScreen" class="hidden flex-1 flex-col p-5 md:p-10 fade-in h-full relative">
        <!-- ìƒë‹¨ ì˜ì—­: ì§ˆë¬¸ê³¼ ë°” ìœ„ì¹˜ ìœ ì§€ -->
        <div class="flex-none flex flex-col gap-4 mb-2 md:mb-4 min-h-[100px] md:min-h-[120px] justify-start pt-8 md:pt-10">
            <!-- Progress Bar: ì™¼ìª½ ì •ë ¬ -->
            <div class="w-full flex justify-start mb-1">
                 <div class="w-16 md:w-20 h-1.5 bg-gray-100 rounded-full overflow-hidden">
                    <div id="stepProgress" class="h-full bg-black rounded-full transition-all duration-500 ease-out" style="width: 33%"></div>
                </div>
            </div>

            <!-- Question Text: ì™¼ìª½ ì •ë ¬ -->
            <div class="text-left">
                <span id="questionNumber" class="text-purple-600 font-bold text-[10px] md:text-sm tracking-[0.2em] uppercase mb-1 block text-left">QUESTION 1/3</span>
                <h2 id="questionText" class="text-xl md:text-3xl font-bold text-gray-900 leading-snug text-left">ì§ˆë¬¸ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.</h2>
            </div>
        </div>

        <!-- ì¤‘ì•™ ë²„íŠ¼ ì˜ì—­ -->
        <div id="optionsContainer" class="flex-1 flex flex-col justify-center gap-3 md:gap-4 w-full h-full min-h-0 py-2">
            <!-- Buttons will be injected here -->
        </div>

        <!-- í•˜ë‹¨ ì´ì „ ë²„íŠ¼: ì™¼ìª½ ì •ë ¬ -->
        <div class="flex-none mt-2 h-8 flex items-center justify-start">
            <button id="prevBtn" onclick="prevStep()" class="text-gray-400 text-xs md:text-sm font-medium hover:text-gray-600 flex items-center gap-1.5 invisible p-2 transition-colors pl-0">
                <span>â†</span> ì´ì „ ë¬¸ì œ
            </button>
        </div>
    </div>

    <!-- 3. Result Screen -->
    <div id="resultScreen" class="hidden h-full flex-col p-5 md:p-10 fade-in overflow-hidden relative">
        
        <!-- Top: Temp & Title -->
        <div class="flex-none text-center pt-4 pb-2 md:pb-4">
            <span id="resultLabelTemp" class="text-sm md:text-base font-bold text-gray-700 uppercase tracking-widest block mb-1">ë‹¹ì‹ ì˜ ì˜¨ë„ëŠ”</span>
            <div id="resultTemp" class="text-4xl md:text-6xl font-black text-gray-900 my-0 tracking-tighter leading-none">-273Â°C</div>
            <h2 id="resultTitle" class="text-lg md:text-3xl font-bold text-purple-900 leading-tight mt-1 opacity-90">ê²°ê³¼ ì œëª©</h2>
        </div>

        <!-- Middle: Content Group -->
        <div class="flex-1 w-full max-w-2xl mx-auto flex flex-col justify-center gap-3 md:gap-4 min-h-0 overflow-hidden px-1">
            
            <!-- Detail Box -->
            <div id="resultDetailBox" class="flex-grow bg-white/60 rounded-2xl shadow-sm p-6 md:p-8 backdrop-blur-md overflow-hidden flex flex-col justify-center gap-2">
                <!-- Headline -->
                <h4 id="resultHeadline" class="text-base md:text-2xl font-bold text-gray-900 leading-snug shrink-0 text-center md:text-left mt-1">
                    <!-- ì²« ë¬¸ì¥ ê°•ì¡° -->
                </h4>
                <!-- Detail -->
                <div class="overflow-y-auto scrollbar-hide text-gray-700 text-xs md:text-lg leading-relaxed text-center md:text-left mt-4">
                    <p id="resultDetail">
                        <!-- ë‚˜ë¨¸ì§€ ì„¤ëª… -->
                    </p>
                </div>
            </div>

            <!-- Speaker Box -->
            <div class="flex-none w-full bg-white p-4 md:p-5 rounded-2xl border-2 border-gray-100 text-center relative overflow-hidden flex flex-col items-center justify-center">
                
                <div class="flex flex-row items-center justify-center gap-3 md:gap-4 text-gray-800 relative z-10">
                    <h3 id="resultLabelSpeaker" class="text-sm md:text-lg text-gray-500 font-bold tracking-widest uppercase m-0 shrink-0">ì¶”ì²œ ì—°ì‚¬</h3>

                    <!-- ì„¸ë¡œì„  -->
                    <div id="resultLine" class="w-1.5 h-8 rounded-full bg-gray-300 shrink-0"></div>

                    <!-- ì—°ì‚¬ ì´ë¦„ -->
                    <p id="resultSpeaker" class="text-xl md:text-3xl font-black text-gray-900 tracking-tight m-0 leading-tight whitespace-nowrap"></p>
                </div>
            </div>

        </div>

        <!-- Bottom: Button -->
        <div class="flex-none w-full flex justify-center pt-4 md:pt-6">
            <button id="resetBtn" onclick="resetQuiz()" class="w-auto px-10 md:px-14 bg-black text-white py-4 rounded-2xl font-bold text-sm md:text-lg hover:bg-gray-800 transition shadow-lg active:scale-[0.98]">
                ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
            </button>
        </div>

    </div>

</div>

<script>
    // --- State Management ---
    let currentLang = 'ko'; // 'ko' or 'en'
    let currentStep = 0;
    let userAnswers = []; 

    // --- UI Text Data ---
    const uiText = {
        ko: {
            langBtn: "English",
            startTitle: "ì‚¬ë‘ì˜ ì˜¨ë„ í…ŒìŠ¤íŠ¸",
            startDesc: "ë‚˜ì˜ ì‚¬ë‘ ì˜¨ë„ëŠ” ëª‡ ë„ì¼ê¹Œìš”?<br>ì§§ì€ í…ŒìŠ¤íŠ¸ë¡œ ë‚´ ë§ˆìŒì˜ ì˜¨ë„ë¥¼ í™•ì¸í•˜ê³ <br>ë‚˜ì—ê²Œ ë”± ë§ëŠ” ê°•ì—°ì„ ì¶”ì²œë°›ì•„ë³´ì„¸ìš”.",
            startBtn: "í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°",
            questionLabel: "QUESTION",
            prevBtn: "â† ì´ì „ ë¬¸ì œ",
            resultLabelTemp: "ë‹¹ì‹ ì˜ ì˜¨ë„ëŠ”",
            resultLabelSpeaker: "ì¶”ì²œ ì—°ì‚¬", // ë©˜íŠ¸ ë³€ê²½
            resetBtn: "ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°"
        },
        en: {
            langBtn: "í•œêµ­ì–´",
            startTitle: "Love Temperature Test",
            startDesc: "What is your temperature of love?<br>Check your heart's temperature with a short test and find the perfect lecture for you.",
            startBtn: "Start Test",
            questionLabel: "QUESTION",
            prevBtn: "â† Previous",
            resultLabelTemp: "Your Temperature",
            resultLabelSpeaker: "Recommended Speaker",
            resetBtn: "Back to Start"
        }
    };

    // --- Data: Questions ---
    const questionsData = {
        ko: [
            {
                q: "1ë¶€ ê°•ì—°ì„ ë“£ê³  ë‚œ ì§í›„, ë‹¹ì‹ ì˜ ë§ˆìŒì— ê°€ì¥ ê¹Šê²Œ ë‚¨ì€ ê°ì •ì€?", 
                a: [
                    { text: "ì ì‹œ ë©ˆì¶°ì„œ ì‚¬ë‘ì˜ ì˜ë¯¸ë¥¼ ê¹Šì´ ìƒê°í•´ë³´ê³  ì‹¶ë‹¤.", type: "zero" },
                    { text: "í•œ í¸ì˜ ì˜ˆìˆ ì‘í’ˆì„ ë³¸ ê²ƒì²˜ëŸ¼ ì§„í•œ ì—¬ìš´ì´ ë§´ëˆë‹¤.", type: "four" },
                    { text: "ëˆ„êµ°ê°€ ê³ì— ìˆì—ˆìœ¼ë©´ í•˜ëŠ” ë”°ëœ»í•œ ê·¸ë¦¬ì›€ì´ ì¸ë‹¤.", type: "human" },
                    { text: "ìƒˆë¡œìš´ ê´€ì ì— ëˆˆì„ ëœ¬ ë“¯ í¥ë¯¸ë¡­ê³  ì§œë¦¿í•˜ë‹¤.", type: "forty" },
                    { text: "ê°€ìŠ´ì´ ë²…ì°¨ì˜¬ë¼ ë‹¹ì¥ ë¬´ì–¸ê°€ ì‹œì‘í•˜ê³  ì‹¶ë‹¤.", type: "hundred" }
                ]
            },
            {
                q: "ì§€ê¸ˆì€ ì ì‹œ ì‰¬ì–´ê°€ëŠ” ì¸í„°ë¯¸ì…˜, ë‹¹ì‹ ì˜ ë°œê±¸ìŒì´ í–¥í•˜ëŠ” ê³³ì€?",
                a: [
                    { text: "ë¨¸ë¦¿ì†ì— ë– ì˜¤ë¥´ëŠ” ë‹¤ì–‘í•œ ìƒê°ë“¤ì„ ììœ ë¡­ê²Œ ì ì„ ìˆ˜ ìˆëŠ” ì¢…ì´ ìœ„", type: "zero" },
                    { text: "ê°ê°ì ì¸ ì˜ê°ì„ ì£¼ëŠ” ì „ì‹œì¥ì´ë‚˜ ì˜¤ë¸Œì œ ì•", type: "four" },
                    { text: "í•¨ê»˜ ì˜¨ ì¹œêµ¬ì™€ \"ì•„ê¹Œ ê·¸ê±° ì¢‹ì•˜ì§€?\" ëŒ€í™”í•  ìˆ˜ ìˆëŠ” ê³³", type: "human" },
                    { text: "ëŠì„ì—†ì´ ìƒˆë¡œìš´ ìê·¹ê³¼ í¥ë¯¸ë¡œìš´ ì •ë³´ê°€ ìŸì•„ì§€ëŠ” ìŠ¤ë§ˆíŠ¸í° ì†", type: "forty" },
                    { text: "ì´ ì—ë„ˆì§€ ë†“ì¹  ìˆ˜ ì—†ì–´! ë¶ì ì´ëŠ” ì´ë²¤íŠ¸ ë¶€ìŠ¤", type: "hundred" }
                ]
            },
            {
                q: "ê³§ ì‹œì‘ë  2ë¶€ ê°•ì—° ë‹¹ì‹ ì´ ê¸°ëŒ€í•˜ëŠ” ì‚¬ë‘ì˜ ì´ì•¼ê¸°ëŠ”?",
                a: [
                    { text: "ì‹œê°„ì´ í˜ëŸ¬ë„ ì ˆëŒ€ ë³€í•˜ì§€ ì•ŠëŠ” ë³¸ì§ˆì ì¸ ê°€ì¹˜", type: "zero" },
                    { text: "ì°°ë‚˜ì˜ ìˆœê°„ì—ë„ ê¹Šì´ ê°ì¸ë˜ëŠ” ë°€ë„ ë†’ì€ ê¸°ì–µ", type: "four" },
                    { text: "ì§€ì¹œ í•˜ë£¨ ëì— ì„œë¡œë¥¼ ì•ˆì•„ì£¼ëŠ” ì˜¨ê¸° ê°™ì€ ìœ„ë¡œ", type: "human" },
                    { text: "ì˜ˆì¸¡ë¶ˆí—ˆì˜ ìƒí™© ì†ì—ì„œ ë‹¤ì±„ë¡­ê²Œ ë³€í•˜ëŠ” ì´ì•¼ê¸°", type: "forty" },
                    { text: "ì„œë¡œë¥¼ êµ¬ì›í•˜ê³  ì„¸ìƒì„ ë°”ê¾¸ëŠ” ëœ¨ê±°ìš´ ì—°ëŒ€", type: "hundred" }
                ]
            }
        ],
        en: [
            {
                q: "Right after listening to Part 1, what emotion remains deepest in your heart?",
                a: [
                    { text: "I want to stop for a moment and think deeply about the meaning of love.", type: "zero" },
                    { text: "A lingering impression swirls like having seen a piece of art.", type: "four" },
                    { text: "A warm longing arises, wishing someone were by my side.", type: "human" },
                    { text: "It's interesting and thrilling, like opening my eyes to a new perspective.", type: "forty" },
                    { text: "My heart is overwhelmed, I want to start something right away.", type: "hundred" }
                ]
            },
            {
                q: "It is now intermission. Where are your footsteps heading?",
                a: [
                    { text: "To paper or a notepad where I can freely write down thoughts.", type: "zero" },
                    { text: "In front of exhibitions or objects that give sensory inspiration.", type: "four" },
                    { text: "A place to talk with a friend, 'Wasn't that good earlier?'", type: "human" },
                    { text: "Inside the smartphone pouring out constant new stimuli.", type: "forty" },
                    { text: "I can't miss this energy! The bustling event booth.", type: "hundred" }
                ]
            },
            {
                q: "The Part 2 lecture is starting soon. What 'story of love' do you expect?",
                a: [
                    { text: "Essential values that never change over time.", type: "zero" },
                    { text: "High-density memories deeply engraved even in a fleeting moment.", type: "four" },
                    { text: "Comfort like warmth hugging each other at the end of a weary day.", type: "human" },
                    { text: "Stories changing colorfully in unpredictable situations.", type: "forty" },
                    { text: "Hot solidarity that saves each other and changes the world.", type: "hundred" }
                ]
            }
        ]
    };

    // --- Data: Results ---
    const resultsData = {
        ko: {
            "zero": {
                temp: "-273.15Â°C",
                title: "ì ˆëŒ€ì˜ë„ì˜ ì‚¬ìƒ‰ê°€",
                headline: "ë‹¹ì‹ ì€ ì‚¬ë‘ì˜ ë³¸ì§ˆì„ ê¿°ëš«ëŠ” ì¸ë¬¸í•™ì  íƒêµ¬ìì…ë‹ˆë‹¤.",
                detail: "ë‹¹ì‹ ì€ í˜„ìƒì„ ë‹¨ë©´ì ìœ¼ë¡œ ë³´ì§€ ì•Šê³ , ë‹¤ì–‘í•œ ì‹œê°ì—ì„œ ì…ì²´ì ìœ¼ë¡œ ì‚¬ê³ í•˜ëŠ” ê²ƒì„ ì¦ê¹ë‹ˆë‹¤. ì¸ë¬¸í•™ì  ê¹Šì´ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‚¬ë‘ì„ ë‹¤ê°ë„ë¡œ ë¶„ì„í•˜ê³  ìƒˆë¡­ê²Œ ì •ì˜ ë‚´ë¦¬ëŠ” ê³¼ì •ì´ ë‹¹ì‹ ì—ê²Œ ì§€ì  í¬ì—´ì„ ì¤ë‹ˆë‹¤. ë‹¨ìˆœí•œ ê°ì •ì„ ë„˜ì–´ ì§€ì ì¸ í†µì°°ì„ í†µí•´ ë³¸ì§ˆì— ë‹¤ê°€ê°€ëŠ” ê²ƒì´ ë‹¹ì‹ ì„ ì›€ì§ì…ë‹ˆë‹¤.",
                speaker: "ê°•ì°½ë˜ ì‘ê°€ë‹˜"
            },
            "four": {
                temp: "4Â°C",
                title: "ê³ ë°€ë„ì˜ ì•„í‹°ìŠ¤íŠ¸",
                headline: "ë‹¹ì‹ ì€ ê°ê°ì ì¸ ì•„ë¦„ë‹¤ì›€ì„ ì«“ëŠ” ì•„í‹°ìŠ¤íŠ¸ì…ë‹ˆë‹¤.",
                detail: "ë‹¹ì‹ ì€ ê°•ì—°ì„ ë‹¨ìˆœí•œ ì •ë³´ ì „ë‹¬ì´ ì•„ë‹Œ í•˜ë‚˜ì˜ ì˜ˆìˆ ì  ì²´í—˜ìœ¼ë¡œ ë°›ì•„ë“¤ì…ë‹ˆë‹¤. ë…¼ë¦¬ì ì¸ ì„¤ëª…ë³´ë‹¤ëŠ” ê°ê°ì ì¸ ì´ë¯¸ì§€ì™€ ë§ˆìŒì„ ê±´ë“œë¦¬ëŠ” ì„¬ì„¸í•œ ë¬˜ì‚¬ê°€ ë‹¹ì‹ ì˜ ë§ˆìŒì„ ì›€ì§ì…ë‹ˆë‹¤. í•œ í¸ì˜ ì˜ˆìˆ  ì‘í’ˆì²˜ëŸ¼ ë°€ë„ ë†’ì€ ì—¬ìš´ì„ ë‚¨ê¸¸ ì´ì •ìš° ì—ë””í„°ë‹˜ì˜ ì´ì•¼ê¸°ê°€ ë‹¹ì‹ ì˜ ê°ê°ì„ ê¹¨ì›Œì¤„ ê²ƒì…ë‹ˆë‹¤.",
                speaker: "ì´ì •ìš° ì—ë””í„°ë‹˜"
            },
            "human": {
                temp: "36.5Â°C",
                title: "ë”°ëœ»í•œ ê°ì„±ê°€",
                headline: "ë‹¹ì‹ ì€ ë§ˆìŒì„ ì–´ë£¨ë§Œì§€ëŠ” ë”°ëœ»í•œ ê°ì„±ê°€ì…ë‹ˆë‹¤.",
                detail: "ëª…í™•í•œ ì´ë¡ ë³´ë‹¤ëŠ” ì„œë¡œì˜ ë§ˆìŒì„ ë‚˜ëˆ„ê³  ê³µê°í•˜ëŠ” ê³¼ì •ì´ ë‹¹ì‹ ì—ê²Œ ê¹Šì€ ìš¸ë¦¼ê³¼ ìœ„ë¡œë¥¼ ì¤ë‹ˆë‹¤. ì§€ì¹œ ë§ˆìŒì„ ë”°ëœ»í•˜ê²Œ ì•ˆì•„ì£¼ê³ , ê³ì— ìˆëŠ” ì‚¬ëŒì˜ ì†Œì¤‘í•¨ì„ ì¼ê¹¨ì›Œì¤„ ê¹€ì˜ëŒ€ í‰ë¡ ê°€ë‹˜ì˜ ë‹¤ì •í•œ ì‹œì„ ì´ ë‹¹ì‹ ì—ê²Œ í•„ìš”í•©ë‹ˆë‹¤.",
                speaker: "ê¹€ì˜ëŒ€ í‰ë¡ ê°€ë‹˜"
            },
            "forty": {
                temp: "40Â°C",
                title: "ì§œë¦¿í•œ íŠ¸ë Œë“œì„¸í„°",
                headline: "ë‹¹ì‹ ì€ ìƒˆë¡œì›€ê³¼ ìê·¹ì„ ì¦ê¸°ëŠ” íŠ¸ë Œë“œì„¸í„°ì…ë‹ˆë‹¤.",
                detail: "ë‹¹ì‹ ì€ ì§€ë£¨í•˜ê³  ë»”í•œ ì´ì•¼ê¸°ë¥¼ ê±°ë¶€í•˜ë©°, ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ì „ê°œì™€ ìƒˆë¡œìš´ ê´€ì ì„ ì¦ê¹ë‹ˆë‹¤. ë‡Œë¥¼ ì§œë¦¿í•˜ê²Œ ë§Œë“œëŠ” ì§€ì  ìê·¹ì´ì•¼ë§ë¡œ ë‹¹ì‹ ì„ ì›€ì§ì´ëŠ” ê°€ì¥ í° ì›ë™ë ¥ì…ë‹ˆë‹¤. í†µí†µ íŠ€ëŠ” ë§¤ë ¥ìœ¼ë¡œ ë‹¹ì‹ ì˜ ë„íŒŒë¯¼ì„ ìê·¹í•  ìœ¤ë³µì‹¤ êµìˆ˜ë‹˜ì˜ í¥ë¯¸ì§„ì§„í•œ ê°•ì˜ê°€ ì œê²©ì…ë‹ˆë‹¤.",
                speaker: "ìœ¤ë³µì‹¤ êµìˆ˜ë‹˜"
            },
            "hundred": {
                temp: "100Â°C",
                title: "ëœ¨ê±°ìš´ í–‰ë™ê°€",
                headline: "ë‹¹ì‹ ì€ ì„¸ìƒì„ ì›€ì§ì´ëŠ” ëœ¨ê±°ìš´ í–‰ë™ê°€ì…ë‹ˆë‹¤.",
                detail: "ë‹¹ì‹ ì€ ê°€ìŠ´ ë›°ëŠ” ì—´ì •ê³¼ ì—ë„ˆì§€ë¥¼ ì‚¬ë‘í•©ë‹ˆë‹¤. ë‹¨ìˆœíˆ ë“£ëŠ” ê²ƒì„ ë„˜ì–´, ë‹¹ì‹ ì„ í–‰ë™í•˜ê²Œ ë§Œë“¤ê³  ì„¸ìƒê³¼ ì—°ëŒ€í•˜ê²Œ ë§Œë“œëŠ” íŒŒì›Œí’€í•œ ë©”ì‹œì§€ê°€ ë‹¹ì‹ ì˜ ì‹¬ì¥ì„ ë›°ê²Œ í•©ë‹ˆë‹¤. ëœ¨ê±°ìš´ ì—ë„ˆì§€ë¡œ ì„œë¡œë¥¼ êµ¬ì›í•˜ê³  ë” ë‚˜ì€ ì„¸ìƒì„ ë§Œë“œëŠ” í˜ì„ ë³´ì—¬ì¤„ ì— ë§ˆ ìº ë²¨ ì´ì¥ë‹˜ì˜ ê°•ì—°ì´ ë‹¹ì‹ ì—ê²Œ ì˜ê°ì„ ì¤„ ê²ƒì…ë‹ˆë‹¤.",
                speaker: "ì— ë§ˆ ìº ë²¨ ì´ì¥ë‹˜"
            }
        },
        en: {
            "zero": {
                temp: "-273.15Â°C",
                title: "Philosopher of Absolute Zero",
                headline: "You are a humanistic seeker piercing through the essence of love.",
                detail: "You enjoy thinking three-dimensionally from various perspectives. Based on humanistic depth, you analyze love from multiple angles and want to define it anew. You are moved by the process of approaching the essence through intellectual insight beyond simple emotions.",
                speaker: "Writer Kang Chang-rae"
            },
            "four": {
                temp: "4Â°C",
                title: "Artist of High Density",
                headline: "You are an artist chasing sensory beauty.",
                detail: "You accept a lecture as an artistic experience. You are moved by sensory images and delicate descriptions that touch the heart rather than logical explanations. The story of Editor Lee Jung-woo, which will leave a lingering impression like a movie, will awaken your senses.",
                speaker: "Editor Lee Jung-woo"
            },
            "human": {
                temp: "36.5Â°C",
                title: "Warm Emotionalist",
                headline: "You are an emotionalist who caresses hearts.",
                detail: "You prefer stories that smell like 'people'. Rather than clear theories, the process of sharing hearts and empathizing gives you deep resonance and comfort. You need the affectionate gaze of Critic Kim Young-dae, who will hug your weary heart.",
                speaker: "Critic Kim Young-dae"
            },
            "forty": {
                temp: "40Â°C",
                title: "Thrilling Trendsetter",
                headline: "You are a trendsetter who enjoys novelty and stimulation.",
                detail: "You refuse boring and obvious stories, enjoying unpredictable developments and new perspectives. Intellectual stimulation that thrills your brain is the biggest driving force that moves you. Professor Yoon Bok-sil's exciting lecture is perfect for you.",
                speaker: "Professor Yoon Bok-sil"
            },
            "hundred": {
                temp: "100Â°C",
                title: "Passionate Activist",
                headline: "You are a passionate activist who moves the world.",
                detail: "You love heart-beating passion and energy. Powerful messages that make you act and stand in solidarity with the world make your heart race. President Emma Campbell's lecture, which will show you the power to save each other, will inspire you.",
                speaker: "President Emma Campbell"
            }
        }
    };

    // --- DOM Elements ---
    const startScreen = document.getElementById('startScreen');
    const quizScreen = document.getElementById('quizScreen');
    const resultScreen = document.getElementById('resultScreen');
    const stepProgress = document.getElementById('stepProgress');
    const prevBtn = document.getElementById('prevBtn');
    const langBtnText = document.getElementById('langBtnText');

    function toggleLanguage() {
        currentLang = currentLang === 'ko' ? 'en' : 'ko';
        updateUIText();
        
        // Refresh current screen content
        if (!quizScreen.classList.contains('hidden')) {
            renderQuestion();
        } else if (!resultScreen.classList.contains('hidden')) {
            // Re-calculate result to update text
            showResult();
        }
    }

    function updateUIText() {
        const text = uiText[currentLang];
        document.getElementById('langBtnText').innerText = text.langBtn;
        document.getElementById('startTitle').innerText = text.startTitle;
        document.getElementById('startDesc').innerHTML = text.startDesc;
        document.getElementById('startBtn').innerText = text.startBtn;
        document.getElementById('questionNumber').innerText = text.questionLabel + ` ${currentStep + 1}/3`;
        document.getElementById('prevBtn').innerHTML = `<span>${currentLang === 'ko' ? 'â†' : 'â†'}</span> ${text.prevBtn.replace('â† ', '')}`;
        document.getElementById('resultLabelTemp').innerText = text.resultLabelTemp;
        document.getElementById('resultLabelSpeaker').innerText = text.resultLabelSpeaker;
        document.getElementById('resetBtn').innerText = text.resetBtn;
    }

    function shuffleArray(array) {
        for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
        }
        return array;
    }

    function startQuiz() {
        startScreen.classList.add('hidden');
        quizScreen.classList.remove('hidden');
        quizScreen.classList.add('flex');
        renderQuestion();
    }

    function renderQuestion() {
        const q = questionsData[currentLang][currentStep];
        const text = uiText[currentLang];
        document.getElementById('questionNumber').innerText = `${text.questionLabel} ${currentStep + 1}/3`;
        document.getElementById('questionText').innerText = q.q;

        const container = document.getElementById('optionsContainer');
        container.innerHTML = '';

        const options = [...q.a];
        
        options.forEach((opt) => {
            const btn = document.createElement('button');
            // ë²„íŠ¼ ìŠ¤íƒ€ì¼ ì—…ë°ì´íŠ¸: ê¸€ì”¨ í¬ê¸° í‚¤ì›€ (text-sm md:text-xl)
            btn.className = "flex-1 w-full text-left px-5 py-3 md:px-6 md:py-4 rounded-2xl border border-gray-100 bg-white hover:border-gray-300 hover:bg-gray-50 transition duration-200 text-gray-800 font-medium text-sm md:text-xl btn-hover flex justify-between items-center group break-keep shadow-sm leading-snug shrink-0 min-h-0 ring-1 ring-gray-50";
            btn.innerHTML = `<span class="line-clamp-2">${opt.text}</span> <span class="text-gray-300 group-hover:text-black transition ml-2 text-base md:text-2xl flex-shrink-0">â†’</span>`;
            btn.onclick = () => selectOption(opt.type);
            container.appendChild(btn);
        });

        const progress = ((currentStep + 1) / questionsData[currentLang].length) * 100;
        if(stepProgress) {
            stepProgress.style.width = `${progress}%`;
        }

        if (currentStep > 0) {
            prevBtn.classList.remove('invisible');
        } else {
            prevBtn.classList.add('invisible');
        }
    }

    function selectOption(type) {
        userAnswers[currentStep] = type;
        currentStep++;

        if (currentStep < questionsData[currentLang].length) {
            renderQuestion();
        } else {
            showResult();
        }
    }

    function prevStep() {
        if (currentStep > 0) {
            currentStep--;
            renderQuestion();
        }
    }

    function showResult() {
        quizScreen.classList.add('hidden');
        quizScreen.classList.remove('flex');
        resultScreen.classList.remove('hidden');
        resultScreen.classList.add('flex');

        let scores = { zero: 0, four: 0, human: 0, forty: 0, hundred: 0 };
        userAnswers.forEach(type => {
            if(type) scores[type]++;
        });

        let maxType = Object.keys(scores).reduce((a, b) => scores[a] >= scores[b] ? a : b);

        const data = resultsData[currentLang][maxType];
        document.getElementById('resultTitle').innerText = data.title;
        document.getElementById('resultTemp').innerText = data.temp;
        document.getElementById('resultHeadline').innerText = data.headline;
        document.getElementById('resultDetail').innerText = data.detail;
        document.getElementById('resultSpeaker').innerText = data.speaker;

        const tempEl = document.getElementById('resultTemp');
        const appEl = document.getElementById('app');
        const titleEl = document.getElementById('resultTitle');
        const lineEl = document.getElementById('resultLine');

        // Color map updated for line color
        const colorMap = {
            'zero': { text: 'text-blue-700', title: 'text-blue-800', bg: 'from-blue-200', line: 'bg-blue-600' },
            'four': { text: 'text-teal-700', title: 'text-teal-800', bg: 'from-teal-200', line: 'bg-teal-600' },
            'human': { text: 'text-amber-600', title: 'text-amber-700', bg: 'from-amber-200', line: 'bg-amber-600' },
            'forty': { text: 'text-orange-600', title: 'text-orange-700', bg: 'from-orange-200', line: 'bg-orange-600' },
            'hundred': { text: 'text-red-700', title: 'text-red-800', bg: 'from-red-200', line: 'bg-red-600' }
        };

        const theme = colorMap[maxType];

        tempEl.className = `text-4xl md:text-6xl font-black my-0 tracking-tighter break-keep leading-none ${theme.text}`;
        titleEl.className = `text-lg md:text-3xl font-bold break-keep leading-tight mt-1 opacity-90 ${theme.title}`;
        
        // Update line color
        lineEl.className = `w-1.5 h-8 md:h-10 rounded-full shrink-0 ${theme.line}`;

        appEl.classList.remove('bg-white');
        appEl.className = `w-full h-[100dvh] md:h-[90vh] max-w-lg md:max-w-3xl md:rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col relative border-0 md:border border-gray-100 transition-all duration-300 bg-gradient-to-t to-white ${theme.bg}`;
    }

    function resetQuiz() {
        currentStep = 0;
        userAnswers = [];
        resultScreen.classList.add('hidden');
        resultScreen.classList.remove('flex');
        startScreen.classList.remove('hidden');

        const appEl = document.getElementById('app');
        appEl.className = "w-full h-[100dvh] md:h-[90vh] max-w-lg md:max-w-3xl bg-white md:rounded-[2.5rem] shadow-2xl overflow-hidden flex flex-col relative border-0 md:border border-gray-100 transition-all duration-300";
    }
</script>
</body>
</html>
