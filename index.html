<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‚¬ë‘ì˜ ì˜¨ë„ ì¸¡ì •ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;700;900&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Noto Sans KR', sans-serif; }
        .fade-in { animation: fadeIn 0.3s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }
        .btn-hover:active { transform: scale(0.98); background-color: #f3f4f6; }
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }
        /* ë‹¨ì–´ ë‹¨ìœ„ ì¤„ë°”ê¿ˆ ì ìš© */
        * { word-break: keep-all; }
    </style>
</head>
<body class="bg-gray-50 min-h-screen flex items-center justify-center p-4">

    <div id="app" class="max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden min-h-[500px] flex flex-col relative border border-gray-100">
        
        <!-- Progress Bar -->
        <div id="progressBarContainer" class="hidden w-full bg-gray-100 h-1.5">
            <div id="progressBar" class="bg-black h-1.5 transition-all duration-200" style="width: 0%"></div>
        </div>

        <!-- 1. Start Screen -->
        <div id="startScreen" class="flex-1 flex flex-col items-center justify-center p-6 text-center fade-in">
            <div class="text-5xl mb-4">ğŸŒ¡ï¸</div>
            <h1 class="text-2xl font-black text-gray-900 mb-2 break-keep">ì‚¬ë‘ì˜ ì˜¨ë„ ì¸¡ì •ê¸°</h1>
            <p class="text-gray-500 mb-8 text-sm leading-relaxed break-keep">
                ë‚˜ì˜ ì‚¬ë‘ ìœ í˜•ì€ ëª‡ ë„ì¼ê¹Œìš”?<br><br>
                ê°„ë‹¨í•œ í…ŒìŠ¤íŠ¸ë¡œ ë‚˜ë¥¼ ì•Œì•„ë³´ê³ <br>
                ë‚˜ì—ê²Œ ë”± ë§ëŠ” ê°•ì—°ê³¼ ì—°ì‚¬ë¥¼ ì¶”ì²œë°›ì•„ë³´ì„¸ìš”.
            </p>
            <button onclick="startQuiz()" class="bg-black text-white px-8 py-4 rounded-xl text-lg font-bold w-full shadow-lg hover:bg-gray-800 transition active:scale-95 break-keep">
                í…ŒìŠ¤íŠ¸ ì‹œì‘í•˜ê¸°
            </button>
        </div>

        <!-- 2. Quiz Screen -->
        <div id="quizScreen" class="hidden flex-1 flex-col p-6 fade-in h-full justify-center">
            <div class="mb-6">
                <span id="questionNumber" class="text-purple-600 font-bold text-xs tracking-widest uppercase mb-1 block break-keep">QUESTION 1/3</span>
                <h2 id="questionText" class="text-xl font-bold text-gray-900 leading-snug break-keep">ì§ˆë¬¸ì´ ë“¤ì–´ê°‘ë‹ˆë‹¤.</h2>
            </div>
            <div id="optionsContainer" class="space-y-2.5">
                <!-- Buttons will be injected here -->
            </div>
            
            <!-- Previous Button -->
            <div class="mt-6">
                <button id="prevBtn" onclick="prevStep()" class="text-gray-400 text-sm font-medium hover:text-gray-600 flex items-center gap-1 invisible break-keep">
                    <span>â†</span> ì´ì „ ë¬¸ì œ
                </button>
            </div>
        </div>

        <!-- 3. Result Screen -->
        <div id="resultScreen" class="hidden flex-1 flex-col p-6 overflow-y-auto fade-in scrollbar-hide">
            <div class="text-center mb-5">
                <span class="text-xs font-bold text-gray-500 uppercase tracking-wider break-keep">Your Temperature</span>
                <div id="resultTemp" class="text-6xl font-black text-gray-900 my-2 tracking-tighter break-keep">-273Â°C</div>
                <h2 id="resultTitle" class="text-xl font-bold text-purple-800 break-keep">ê²°ê³¼ ì œëª©</h2>
            </div>

            <!-- ì„¤ëª… ì˜ì—­ -->
            <div class="mb-6">
                <div class="bg-white/60 p-5 rounded-xl border border-gray-100 shadow-sm text-left">
                    <h4 id="resultHeadline" class="text-lg font-bold text-gray-900 mb-2 leading-snug break-keep">
                        <!-- ì²« ë¬¸ì¥ ê°•ì¡° -->
                    </h4>
                    <p id="resultDetail" class="text-gray-700 text-sm leading-relaxed break-keep">
                        <!-- ë‚˜ë¨¸ì§€ ì„¤ëª… -->
                    </p>
                </div>
            </div>

            <!-- ì—°ì‚¬ ì¶”ì²œ ì˜ì—­ -->
            <div class="bg-white p-6 rounded-2xl shadow-md border border-gray-200 mb-6 text-center relative overflow-hidden">
                <div class="absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 via-green-400 via-yellow-400 to-red-500"></div>
                
                <span class="inline-block px-3 py-1 bg-gray-100 text-gray-500 text-[10px] font-bold tracking-widest uppercase rounded-full mb-3 break-keep">
                    Recommended Session
                </span>
                
                <h3 class="text-sm text-gray-400 font-medium mb-1 break-keep">ë‚˜ë¥¼ ìœ„í•œ ë§ì¶¤ ì—°ì‚¬</h3>
                <p id="resultSpeaker" class="text-2xl font-black text-gray-900 mb-4 tracking-tight break-keep"></p>
                
                <!-- ë©˜íŠ¸ ì˜ì—­ (ìˆ˜ì •ë¨: í°ë”°ì˜´í‘œ ì¶”ê°€) -->
                <div class="bg-gray-50 rounded-xl p-6 border border-gray-100 relative">
                    <span class="absolute top-2 left-3 text-4xl text-gray-300 leading-none">â€œ</span>
                    <p id="resultAdvice" class="text-gray-600 text-sm font-medium italic relative z-10 px-2 break-keep">
                        ë©˜íŠ¸
                    </p>
                    <span class="absolute bottom-1 right-3 text-4xl text-gray-300 leading-none">â€</span>
                </div>
            </div>

            <div class="mt-auto">
                <button onclick="resetQuiz()" class="w-full bg-gray-900 text-white py-4 rounded-xl font-bold text-base hover:bg-gray-800 transition shadow-lg btn-hover break-keep">
                    ì²˜ìŒìœ¼ë¡œ ëŒì•„ê°€ê¸°
                </button>
            </div>
        </div>

    </div>

    <script>
        // --- Updated Questions ---
        const questions = [
            {
                q: "ë‚´ê°€ ìƒê°í•˜ëŠ” 'ì‚¬ë‘'ì˜ ì´ë¯¸ì§€ëŠ”?", 
                a: [
                    { text: "ë¿Œë¦¬ ê¹Šì€ ë‚˜ë¬´", type: "zero" },
                    { text: "ê¹Šì€ ì‹¬í•´", type: "four" },
                    { text: "ë”°ìŠ¤í•œ í–‡ì‚´", type: "human" },
                    { text: "í•œì—¬ë¦„ ë°¤ì˜ ë¶ˆê½ƒ", type: "forty" },
                    { text: "íë¥´ëŠ” ê°•ë¬¼", type: "hundred" }
                ]
            },
            {
                q: "ë‚´ê°€ ê¹Šì€ ìœ ëŒ€ê°ì„ ëŠë¼ëŠ” 'ì¢‹ì€ ì‚¬ëŒ'ì€?",
                a: [
                    { text: "ë³€í•¨ì—†ì´ ë‚´ ê³ì„ ì§€ì¼œì£¼ëŠ” ë“ ë“ í•œ ì‚¬ëŒ", type: "zero" },
                    { text: "ë§í•˜ì§€ ì•Šì•„ë„ ì˜í˜¼ì´ í†µí•˜ëŠ” ì„¬ì„¸í•œ ì‚¬ëŒ", type: "four" },
                    { text: "ë°¥ í•œ ë¼ì—ë„ ê°™ì´ ì›ƒì„ ìˆ˜ ìˆëŠ” í¸ì•ˆí•œ ì‚¬ëŒ", type: "human" },
                    { text: "ë‚˜ì—ê²Œ ë‚¯ì„  ìê·¹ê³¼ ì˜ê°ì„ ì£¼ëŠ” ì‚¬ëŒ", type: "forty" },
                    { text: "í•¨ê»˜ ë” ë‚˜ì€ ë¯¸ë˜ë¥¼ ê¿ˆê¾¸ë©° ì„±ì¥í•˜ëŠ” ì‚¬ëŒ", type: "hundred" }
                ]
            },
            {
                q: "ë§ˆìŒì´ ì§€ì¹˜ê³  í˜ë“¤ ë•Œ, ìƒëŒ€ë°©ì—ê²Œ ë°”ë¼ëŠ” ìœ„ë¡œëŠ”?",
                a: [
                    { text: "ë§ì—†ì´ ê³ì„ ì§€í‚¤ë©° ê¸°ëŒˆ ì–´ê¹¨ë¥¼ ë‚´ì–´ì£¼ëŠ” ê²ƒ", type: "zero" },
                    { text: "ë‚˜ì˜ ë³µì¡í•œ ê°ì •ì„ ê¹Šì´ ì´í•´í•˜ê³  ê³µê°í•´ì£¼ëŠ” ê²ƒ", type: "four" },
                    { text: "ì†Œì†Œí•œ ë†ë‹´ì´ë‚˜ ë§›ìˆëŠ” ìŒì‹ìœ¼ë¡œ ì›ƒê²Œ í•´ì£¼ëŠ” ê²ƒ", type: "human" },
                    { text: "ê¸°ë¶„ ì „í™˜ì´ ë˜ë„ë¡ ìƒˆë¡œìš´ ê³³ìœ¼ë¡œ ì´ëŒì–´ì£¼ëŠ” ê²ƒ", type: "forty" },
                    { text: "ë¬¸ì œ í•´ê²°ì„ ìœ„í•´ ì‹¤ì§ˆì ì¸ ì¡°ì–¸ê³¼ ë„ì›€ì„ ì£¼ëŠ” ê²ƒ", type: "hundred" }
                ]
            }
        ];

        // [ìˆ˜ì •] headline(ì²«ë¬¸ì¥)ê³¼ detail(ë‚˜ë¨¸ì§€)ë¡œ ë°ì´í„° ë¶„ë¦¬
        const results = {
            "zero": {
                temp: "-273.15Â°C",
                title: "ì ˆëŒ€ì˜ë„ì˜ ìˆœì• ë³´",
                headline: "ë‹¹ì‹ ì—ê²Œ ì‚¬ë‘ì€ í™”ë ¤í•œ ì´ë²¤íŠ¸ë³´ë‹¤ ë³€ì¹˜ ì•ŠëŠ” ì‹ ë¢°ì™€ í—Œì‹ ì…ë‹ˆë‹¤.",
                detail: "ë¬µë¬µíˆ ê³ì„ ì§€ì¼œì£¼ëŠ” ë‹¨ë‹¨í•œ ì‚¬ë‘ì˜ ë³¸ì§ˆì„ ì¤‘ìš”í•˜ê²Œ ìƒê°í•˜ì‹œë„¤ìš”.",
                speaker: "ê°•ì°½ë˜ ì‘ê°€",
                advice: "ìƒì‹¤ ì•ì—ì„œë„ ë¬´ë„ˆì§€ì§€ ì•ŠëŠ” ëŒë´„ì˜ ë¯¸í•™"
            },
            "four": {
                temp: "4Â°C",
                title: "ê°€ì¥ ë¬´ê±°ìš´ ë°€ë„",
                headline: "ë‚¨ë“¤ì€ ì‰½ê²Œ ì´í•´ ëª»í•  ë…íŠ¹í•œ ê°ì„±ì„ ì§€ë…”ìŠµë‹ˆë‹¤.",
                detail: "ê°€ë²¼ìš´ ê´€ê³„ë³´ë‹¤ëŠ” ì˜í˜¼ì„ ìš¸ë¦¬ëŠ” ê¹Šì´ ìˆëŠ” êµê°ì„ ì¶”êµ¬í•˜ë©°, ì‚¬ë‘ì„ ì˜ˆìˆ ì²˜ëŸ¼ ì„¬ì„¸í•˜ê²Œ ë‹¤ë£¹ë‹ˆë‹¤.",
                speaker: "ì´ì •ìš° ì—ë””í„°",
                advice: "ì˜ˆìˆ ë¡œ ìŠ¹í™”ëœ ì‚¬ë‘ì˜ ê²°ì •ì  ìˆœê°„ë“¤"
            },
            "human": {
                temp: "36.5Â°C",
                title: "ë”°ëœ»í•œ ì²´ì˜¨",
                headline: "ê°€ì¥ ì¸ê°„ì ì´ê³  í¸ì•ˆí•œ ì‚¬ë‘ì„ ì¶”êµ¬í•©ë‹ˆë‹¤.",
                detail: "ê±°ì°½í•œ ê²ƒë³´ë‹¤ëŠ” ì¼ìƒì—ì„œ ì„œë¡œì˜ ì²´ì˜¨ì„ ë‚˜ëˆ„ë©° ëŠë¼ëŠ” ì†Œì†Œí•œ ì•ˆì •ê°ê³¼ ìœ ëŒ€ê°€ ì¤‘ìš”í•©ë‹ˆë‹¤.",
                speaker: "ê¹€ì˜ëŒ€ í‰ë¡ ê°€",
                advice: "ë…¸ë˜ ê°€ì‚¬ì²˜ëŸ¼ ìš°ë¦¬ì˜ ë§ˆìŒì„ ìš¸ë¦¬ëŠ” ê³µê°"
            },
            "forty": {
                temp: "40Â°C",
                title: "ëœ¨ê±°ìš´ ë¯¸ì—´",
                headline: "ì‚¬ë‘ì€ ëœ¨ê±°ì›Œì•¼ ì œë§›ì…ë‹ˆë‹¤!",
                detail: "ë°‹ë°‹í•˜ê³  ì§€ë£¨í•œ ê´€ê³„ë³´ë‹¤ëŠ” ì„œë¡œì—ê²Œ ëŠì„ì—†ì´ ê¸ì •ì ì¸ ìê·¹ê³¼ ì˜ê°ì„ ì£¼ê³ ë°›ëŠ” ì—´ì •ì ì¸ ê´€ê³„ë¥¼ ì„ í˜¸í•©ë‹ˆë‹¤.",
                speaker: "ìœ¤ë³µì‹¤ êµìˆ˜",
                advice: "ìš°ë¦¬ë¥¼ ë“¤ë“ê²Œ í•˜ëŠ” ë¯¸ë””ì–´ ì† ì‚¬ë‘ì˜ ì´ë©´"
            },
            "hundred": {
                temp: "100Â°C",
                title: "ë“ì–´ì˜¤ë¥´ëŠ” ë¹„ë“±ì ",
                headline: "ì‚¬ë‘ì€ ëª…ì‚¬ê°€ ì•„ë‹ˆë¼ ë™ì‚¬ì…ë‹ˆë‹¤!",
                detail: "ë§ˆìŒë§Œ ë¨¹ëŠ” ê²Œ ì•„ë‹ˆë¼ í•¨ê»˜ ì„±ì¥í•˜ê³ , ë” ë‚˜ì•„ê°€ ì„¸ìƒì— ì„ í•œ ì˜í–¥ë ¥ì„ ë¼ì¹˜ëŠ” 'í™•ì¥í˜• ì‚¬ë‘'ì„ ê¿ˆê¿‰ë‹ˆë‹¤.",
                speaker: "ì— ë§ˆ ìº ë²¨ ì´ì¥",
                advice: "ì‚¬ë‘ì„ í–‰ë™ìœ¼ë¡œ ì˜®ê¸°ëŠ” ëœ¨ê±°ìš´ ì‹¤ì²œ"
            }
        };

        // --- Logic ---
        let currentStep = 0;
        let userAnswers = []; 

        const startScreen = document.getElementById('startScreen');
        const quizScreen = document.getElementById('quizScreen');
        const resultScreen = document.getElementById('resultScreen');
        const progressBar = document.getElementById('progressBar');
        const progressBarContainer = document.getElementById('progressBarContainer');
        const prevBtn = document.getElementById('prevBtn');

        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startQuiz() {
            startScreen.classList.add('hidden');
            quizScreen.classList.remove('hidden');
            quizScreen.classList.add('flex');
            progressBarContainer.classList.remove('hidden');
            renderQuestion();
        }

        function renderQuestion() {
            const q = questions[currentStep];
            document.getElementById('questionNumber').innerText = `QUESTION ${currentStep + 1}/3`;
            document.getElementById('questionText').innerText = q.q;
            
            const container = document.getElementById('optionsContainer');
            container.innerHTML = '';

            const shuffledOptions = shuffleArray([...q.a]);

            shuffledOptions.forEach((opt) => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left px-4 py-3.5 rounded-xl border border-gray-200 bg-white hover:border-black hover:bg-gray-50 transition duration-150 text-gray-800 font-medium text-sm btn-hover flex justify-between items-center group break-keep";
                btn.innerHTML = `<span>${opt.text}</span> <span class="text-gray-300 group-hover:text-black transition">â†’</span>`;
                btn.onclick = () => selectOption(opt.type);
                container.appendChild(btn);
            });

            const progress = ((currentStep) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;

            if (currentStep > 0) {
                prevBtn.classList.remove('invisible');
            } else {
                prevBtn.classList.add('invisible');
            }
        }

        function selectOption(type) {
            userAnswers[currentStep] = type;
            currentStep++;

            if (currentStep < questions.length) {
                renderQuestion();
            } else {
                progressBar.style.width = '100%';
                showResult();
            }
        }

        function prevStep() {
            if (currentStep > 0) {
                currentStep--;
                renderQuestion();
            }
        }

        function showResult() {
            quizScreen.classList.add('hidden');
            quizScreen.classList.remove('flex');
            resultScreen.classList.remove('hidden');
            resultScreen.classList.add('flex');
            progressBarContainer.classList.add('hidden');

            let scores = { zero: 0, four: 0, human: 0, forty: 0, hundred: 0 };
            userAnswers.forEach(type => {
                if(type) scores[type]++;
            });

            let maxType = Object.keys(scores).reduce((a, b) => scores[a] > scores[b] ? a : b);
            
            const data = results[maxType];
            document.getElementById('resultTitle').innerText = data.title;
            document.getElementById('resultTemp').innerText = data.temp;
            document.getElementById('resultHeadline').innerText = data.headline;
            document.getElementById('resultDetail').innerText = data.detail;
            document.getElementById('resultSpeaker').innerText = data.speaker;
            // [ìˆ˜ì •] ë©˜íŠ¸ì—ì„œ ë”°ì˜´í‘œ ì œê±°í•˜ê³  í…ìŠ¤íŠ¸ë§Œ ì‚½ì…
            document.getElementById('resultAdvice').innerText = data.advice;

            const tempEl = document.getElementById('resultTemp');
            const appEl = document.getElementById('app');
            const titleEl = document.getElementById('resultTitle');

            const colorMap = {
                'zero': { text: 'text-blue-700', title: 'text-blue-800', bg: 'from-blue-200' },
                'four': { text: 'text-teal-700', title: 'text-teal-800', bg: 'from-teal-200' },
                'human': { text: 'text-amber-600', title: 'text-amber-700', bg: 'from-amber-200' },
                'forty': { text: 'text-orange-600', title: 'text-orange-700', bg: 'from-orange-200' },
                'hundred': { text: 'text-red-700', title: 'text-red-800', bg: 'from-red-200' }
            };

            tempEl.className = `text-6xl font-black my-2 tracking-tighter break-keep ${colorMap[maxType].text}`;
            titleEl.className = `text-xl font-bold break-keep ${colorMap[maxType].title}`;

            appEl.classList.remove('bg-white');
            appEl.className = `max-w-md w-full rounded-2xl shadow-xl overflow-hidden min-h-[500px] flex flex-col relative border border-gray-100 bg-gradient-to-t to-white ${colorMap[maxType].bg}`;
        }

        function resetQuiz() {
            currentStep = 0;
            userAnswers = [];
            resultScreen.classList.add('hidden');
            resultScreen.classList.remove('flex');
            startScreen.classList.remove('hidden');

            const appEl = document.getElementById('app');
            appEl.className = "max-w-md w-full bg-white rounded-2xl shadow-xl overflow-hidden min-h-[500px] flex flex-col relative border border-gray-100";
        }
    </script>
</body>
</html>
